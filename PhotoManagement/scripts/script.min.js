let body=document.body,innerWindowWidth=()=>window.innerWidth,innerWindowHeight=()=>window.innerHeight,modalLinks=document.querySelectorAll("[data-modal-link]");for(let e of modalLinks)e.addEventListener("click",(function(t){let n=e.dataset.modalLink;if(void 0!==n){showOrHideModal(document.getElementById(n))}}));function returnScrollbarWidth(){return innerWindowWidth()-document.querySelector("html").clientWidth}let unlock=!0;const transitionTimeout=.5;function showOrHideModal(e){if(e&&unlock){let t=document.querySelector(".modal-window.active");t?closeModal(t,!1):toggleBodyScroll(!1),e.classList.add("active")}e.addEventListener("click",(function(t){t.target.closest(".modal-window__content")||closeModal(e,!0)}))}function closeModal(e,t){unlock&&(e.classList.remove("active"),t&&toggleBodyScroll(!0))}function toggleBodyScroll(e){}document.addEventListener("keydown",(function(e){if("Escape"===e.code){closeModal(document.querySelector(".modal-window.active"),!0)}}));let spoilerButtons=document.querySelectorAll("[data-spoiler-button]"),spoilerContentElements=document.querySelectorAll("[data-spoiler-content]");function toggleToSpoilers(e){if(spoilerContentElements.length>0&&spoilerButtons.length==spoilerContentElements.length){for(let e=0;e<spoilerContentElements.length;e++)innerWindowHeight()<=500?(spoilerContentElements[e].classList.add("spoiler-content"),spoilerButtons[e].classList.add("spoiler-button")):(spoilerContentElements[e].classList.remove("spoiler-content"),spoilerButtons[e].classList.remove("spoiler-button"));for(let e of spoilerButtons)e.addEventListener("click",toggleSpoilerState)}}function toggleSpoilerState(e){let t=e.target,n=t.nextElementSibling;t.classList.toggle("active"),n.classList.toggle("active")}function appendInfoModalMenu(e){let t=e.currentTarget,n=modalElement.cloneNode(!0);n.classList.remove("_non-active"),t.append(n),setTimeout((function(){n.classList.add("_active")}),30)}function removeInfoModalMenu(e){let t=e.currentTarget.lastElementChild;t.classList.contains("modal-content-info")&&(t.classList.remove("_active"),setTimeout((function(){t.remove()}),200))}toggleToSpoilers(),window.addEventListener("resize",toggleToSpoilers);const contentElements=document.querySelectorAll(".album-element__preview"),modalElement=document.querySelector(".modal-content-info");function changeContentWidthByWheel(e){let t=""!==albumElements[0].style.width,n=-.01;e.deltaY<100&&(n=-.1);let o,l=parseInt(e.deltaY*n),i=albumContentWidth;t&&(i=parseInt(albumElements[0].style.width.replace("px",""))),o=l>=0?i+l:i-Math.abs(l),o<=albumContentWidth+102&&o>=albumContentWidth-102&&(albumElements.forEach(e=>{e.style.width=o+"px"}),e.target.value=l<=0?parseInt(e.target.value)-Math.abs(l):parseInt(e.target.value)+l)}function changeContentWidthByClick(e){let t,n=parseInt(e.currentTarget.value);n>=0?t=albumContentWidth+n:(n=Math.abs(n),t=albumContentWidth-n),albumElements.forEach(e=>{e.style.width=t+"px"})}contentElements.forEach(e=>{e.addEventListener("mouseenter",appendInfoModalMenu),e.addEventListener("mouseleave",removeInfoModalMenu)});let albumContentWidth=260;const albumElements=document.querySelectorAll(".album-element"),rangeInput=document.querySelector("#blockSizer");rangeInput.addEventListener("input",changeContentWidthByClick),rangeInput.onwheel=e=>(changeContentWidthByWheel(e),!1),rangeInput.oncontextmenu=e=>(3==e.which&&(albumElements.forEach(e=>{e.style.width=""}),rangeInput.value=0),!1);